#CLEANING TEXTFILE TO CSV FOR GRAPHING

import csv
filename = '6769431174229763.txt' #6424460359841471.txt
stats = {}
this_switch = ''

def is_integer(value):
    try:
        int(value)  # Try to convert to an integer
        return True
    except ValueError:
        return False

with open(filename, 'r') as file:
    for line in file:
        line = line.strip()
        if not is_integer(line):
            stats[line] = []
            this_switch = line
        else:
            stats[this_switch].append(str(line))

wr_row = ["FLOW STATS FOR SWITCH of:0000000000000001", "FLOW STATS FOR SWITCH of:0000000000000002", "FLOW STATS FOR SWITCH of:0000000000000003", "FLOW STATS FOR SWITCH of:0000000000000004", "FLOW STATS FOR SWITCH of:0000000000000005", "FLOW STATS FOR SWITCH of:0000000000000006", "FLOW STATS FOR SWITCH of:0000000000000007", "FLOW STATS FOR SWITCH of:0000000000000008", "FLOW STATS FOR SWITCH of:0000000000000009", "FLOW STATS FOR SWITCH of:000000000000000a"]
wr_row_2 = ["FLOW STATS FOR SWITCH of:0000000000000101", "FLOW STATS FOR SWITCH of:0000000000000102", "FLOW STATS FOR SWITCH of:0000000000000103", "FLOW STATS FOR SWITCH of:0000000000000104","FLOW STATS FOR SWITCH of:0000000000000201", "FLOW STATS FOR SWITCH of:0000000000000202", "FLOW STATS FOR SWITCH of:0000000000000203", "FLOW STATS FOR SWITCH of:0000000000000204","FLOW STATS FOR SWITCH of:0000000000000301", "FLOW STATS FOR SWITCH of:0000000000000302", "FLOW STATS FOR SWITCH of:0000000000000303","FLOW STATS FOR SWITCH of:0000000000000304","FLOW STATS FOR SWITCH of:0000000000000401", "FLOW STATS FOR SWITCH of:0000000000000402", "FLOW STATS FOR SWITCH of:0000000000000403","FLOW STATS FOR SWITCH of:0000000000000404"]
output_filename = 'n.csv'
print(wr_row_2)

#stats["FLOW STATS FOR SWITCH of:0000000000000101"], stats["FLOW STATS FOR SWITCH of:0000000000000102"], stats["FLOW STATS FOR SWITCH of:0000000000000103"], stats["FLOW STATS FOR SWITCH of:0000000000000201"], stats["FLOW STATS FOR SWITCH of:0000000000000202"], stats["FLOW STATS FOR SWITCH of:0000000000000203"], stats["FLOW STATS FOR SWITCH of:0000000000000301"], stats["FLOW STATS FOR SWITCH of:0000000000000302"], stats["FLOW STATS FOR SWITCH of:0000000000000303"]

with open(output_filename, 'w', newline='') as csvfile:
    writer = csv.writer(csvfile)
    writer.writerow(wr_row)
    for v1, v2, v3, v4, v5, v6, v7, v8, v9, v10 in zip(stats["FLOW STATS FOR SWITCH of:0000000000000001"], stats["FLOW STATS FOR SWITCH of:0000000000000002"], stats["FLOW STATS FOR SWITCH of:0000000000000003"], stats["FLOW STATS FOR SWITCH of:0000000000000004"], stats["FLOW STATS FOR SWITCH of:0000000000000005"], stats["FLOW STATS FOR SWITCH of:0000000000000006"], stats["FLOW STATS FOR SWITCH of:0000000000000007"], stats["FLOW STATS FOR SWITCH of:0000000000000008"], stats["FLOW STATS FOR SWITCH of:0000000000000009"], stats["FLOW STATS FOR SWITCH of:000000000000000a"]):
            writer.writerow([v1, v2, v3, v4, v5, v6, v7, v8, v9, v10])
